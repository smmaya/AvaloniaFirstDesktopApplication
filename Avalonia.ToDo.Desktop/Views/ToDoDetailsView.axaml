<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:Avalonia.ToDo.Desktop.ViewModels"
             xmlns:conv="clr-namespace:Avalonia.ToDo.Desktop.Converters"
             x:Class="Avalonia.ToDo.Desktop.Views.ToDoDetailsView"
             x:DataType="vm:ToDoDetailsViewModel">

    <UserControl.Resources>
        <!-- InverseBooleanConverter: converts IsEditing to IsReadOnly -->
        <conv:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
    </UserControl.Resources>

    <StackPanel Margin="20" Spacing="12">
        <TextBlock Text="ToDo Details" FontSize="20" FontWeight="Bold" />

        <!-- Form border -->
        <Border Background="#FAFAFA" BorderBrush="#D9D9D9" BorderThickness="1" CornerRadius="6" Padding="12">
            <StackPanel Spacing="10">
                <TextBlock Text="Title:" FontWeight="SemiBold"/>
                <TextBox Text="{Binding Item.Title, Mode=TwoWay}" 
                         HorizontalAlignment="Stretch"
                         IsReadOnly="{Binding IsEditing, Converter={StaticResource InverseBooleanConverter}}"
                         Background="White"
                         BorderBrush="#D9D9D9"/>

                <TextBlock Text="Description:" FontWeight="SemiBold"/>
                <TextBox Text="{Binding Item.Description, Mode=TwoWay}" AcceptsReturn="True" 
                         HorizontalAlignment="Stretch"
                         MinLines="3"
                         MaxLines="6"
                         IsReadOnly="{Binding IsEditing, Converter={StaticResource InverseBooleanConverter}}"
                         Background="White"
                         BorderBrush="#D9D9D9"/>

                <CheckBox Content="Completed"
                          IsChecked="{Binding Item.IsCompleted, Mode=TwoWay}"
                          IsEnabled="{Binding IsEditing}"/>
            </StackPanel>
        </Border>

        <StackPanel Orientation="Horizontal" Spacing="10" HorizontalAlignment="Left">
            <Button Content="⬅ Back" Command="{Binding BackCommand}" />
            <Button Content="✏ Edit" Command="{Binding EditCommand}" />
        </StackPanel>
    </StackPanel>
</UserControl>
